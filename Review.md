# Обзор C#

Прежде всего стоит отметить, что C# - это маленькая часть .NET. Так базовая библиотека .NET доступна в C#, но не относится к языку программирования (будем так считать для простоты). Все возможные фреймвоки, которые есть в .NET, также можно рассматривать отдельно от C#.

Некоторые курсы в интернете построены на одновременном изучении одной технологии .NET и языка C#. Другие курсы или учебники, сначала рассматривают основы языка, а потом делают обзор основных фреймвоков.

В этой главе будет перечисление основных конструкций языка. Базовую библиотеку рассмотрим в следующей главе, а затем сделаем обзор фреймвоков.

Сам язык произошел от 2х других языков: C++ и Java. Синтаксис взят из C++ (очищен от всего лишнего), а виртуальная машина и многие идеи из Java. Важно отметить, что создатель C# до этого занимался созданием компиляторов Pascal, в частности Delphi. Этот фреймвок очень похож на первый фреймвок для .NET - WinForms.

Я не буду тут перечислять все конструкций этого языка, посмотрите на [википедии](https://ru.wikipedia.org/wiki/C_Sharp), [метаните](https://metanit.com/sharp/tutorial/) или на [сайте микрософта](https://docs.microsoft.com/ru-ru/dotnet/csharp/). Сейчас у языка 9 версия и с каждой версией добавляются новые возможности.

## Прежде чем начать

Вам понадобится среда разработки, [скачайте ее](https://visualstudio.microsoft.com/ru/downloads/). Установите и создайте консольное приложение. В нем будут доступны все возможности языка, но не будет подключен ни один из фреймвоков.

## Основы C#

Программа состоит из инструкций, представляющих собой некое действие. В конце инструкции ставится точка с запятой. 

### Объявление переменной

Рассмотрим инструкцию - объявление переменной: 

```csharp
var i = 0;
```

В ней создается переменная (неявно с типом int) и присваивается значение 0. В дальнейшем поменять тип переменной будет нельзя (C# - статический язык).

Важным элементом языка являются литералы - это константные выражения, которые могут передаваться в качестве значения. Вот примеры литералов в инструкциях объявления переменной:

```csharp
int i = 256; //целый
int i1 = 0x100; //в шестнадцатеричной форме (равно 256 в десятичной)
double d = 1.1e10; //вещественное число
string s = @"c:\path"; //строка без обработки
string s1 = "c:\\path"; //тоже самое, но пришлось экранировать косую черту
char c = 'a'; //символ
string s2 = null; //пустое значение
```

### Операции

Это определенные действия над операндами. Операндом может быть переменная:

```csharp
int x = 10; //инструкция объявления переменной
int y = x - 4; //инструкция с операцией сложения
bool b = (x == 10 && y == 6); //логическая операция И
```

Обратите внимание, что инструкции выше содержат оператор присваивания. В операторах присваивания слева может стоять только модифицируемое выражение.

### Преобразование типов

Переменной можно присвоить значение ее типа. Если тип отличается, то по возможности делается неявное преобразование (допускается переход от меньшего типа к большему). Если нужно перейти от большего к меньшему, то нужно выполнить явное преобразование.

```csharp
long l = 10; //неявное преобразование int->long
int i = (int)10L; //явное преобразование long->int
```

### Условные конструкции и циклы

Условия позволяют менять поведение программы в зависимости от условий. Например, в программе ниже всегда выведется только один ответ, а какой, зависит от действий пользователя.

```csharp
Console.WriteLine("Введите два числа");
int num1 = int.Parse(Console.ReadLine());
int num2 = int.Parse(Console.ReadLine());
if (num1 > num2)
{
    Console.WriteLine($"Число {num1} больше числа {num2}");
}
else
{
    Console.WriteLine($"Число {num1} меньше числа {num2}");
}
```

Циклы позволяют выполнить определенное действие несколько раз. Ниже программа, подсчитывающая квадраты чисел от 1 до 10:

```csharp
for (int i = 1; i <= 10; i++)
{
    Console.WriteLine($"Квадрат числа {i} равен {i * i}");
}
```

### Структура программы

До сих пор мы писали последовательно инструкции, однако программа на C# имеет сложную иерархическую структуру. Программа состоит из файлов с исходным кодом. Каждый файл состоит из пространства имен, класса и методов, а те в свою очередь содержат инструкции:

```csharp
using System;
 
namespace HelloApp
{
    class Program
    {
        static void Main(string[] args)
        {
            string message = GetMessage(2, 3);
            Console.WriteLine(message);  //sum=5
            Console.ReadKey();
        }
 
        static string GetMessage(int x, int y)
        {
            return "sum=" + GetSum(x, y);
        }

        static int GetSum(int x, int y)
        {
            return x + y;
        }

        static int GetMul(int x, int y)
        {
            return x * y;
        }
    }
}
```

Для консольного приложения метод Main является точкой входа, остальные методы вызываются по необходимости (метод `GetMul` не вызывается).